{"is_source_file": true, "format": "Python", "description": "This file defines dependencies for a FastAPI application, including token parsing and user retrieval based on authorization headers, utilizing in-memory user store and Pydantic models.", "external_files": ["src.api.models", "src.api.store"], "external_methods": ["fastapi.Depends", "fastapi.Header", "fastapi.HTTPException", "fastapi.status", "pydantic.BaseModel", "pydantic.Field"], "published": ["get_token_data", "get_current_user"], "classes": [{"name": "TokenData", "description": "Pydantic model representing the token payload with subject and token string."}], "methods": [{"name": "_parse_bearer_token", "description": "Extracts the token from an Authorization header with 'Bearer' scheme."}, {"name": "get_token_data", "description": "FastAPI dependency that retrieves and validates the Bearer token from headers, returning TokenData."}, {"name": "get_current_user", "description": "FastAPI dependency that resolves the current user based on token data, creating a placeholder user if not found."}], "calls": ["fastapi.Depends", "fastapi.Header", "fastapi.HTTPException", "status.HTTP_401_UNAUTHORIZED", "src.api.store.USERS.get", "src.api.models.User"], "search-terms": ["FastAPI dependencies", "token extraction", "user resolution", "authorization header", "in-memory user store"], "state": 2, "file_id": 26, "knowledge_revision": 73, "git_revision": "8cfdead4a575206c1d89dcab7a3091cf19bcbad9", "ctags": [], "filename": "backend/src/api/deps.py", "hash": "4a4aee55e2be421150450de31eda313b", "format-version": 4, "code-base-name": "https://github.com/kavia-common/quoteextractor-platform-29-39.git:kavia-main", "revision_history": [{"73": "8cfdead4a575206c1d89dcab7a3091cf19bcbad9"}]}