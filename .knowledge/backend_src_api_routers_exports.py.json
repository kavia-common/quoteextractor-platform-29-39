{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for exporting quotes in various formats, including creating export jobs, listing jobs, and retrieving export outputs. It includes data models, in-memory storage, and formatting functions for different export types.", "external_files": ["src.api.models", "src.api.store"], "external_methods": ["generate_id", "Quote.model_dump"], "published": ["create_export_job", "list_export_jobs", "get_export_job"], "classes": [{"name": "ExportCreateRequest", "description": "Data model for creating an export request, including quote IDs, format, and optional title and author."}, {"name": "ExportResponse", "description": "Data model for the response after creating an export, including the export job metadata and an optional note."}], "methods": [{"name": "create_export_job", "description": "Creates a new export job, generates formatted output, and stores it in-memory."}, {"name": "list_export_jobs", "description": "Returns a list of all current export jobs."}, {"name": "get_export_job", "description": "Retrieves an export job by ID, optionally returning the generated output if requested."}, {"name": "_generate_output", "description": "Generates formatted output (JSON, plain text, etc.) based on the specified format and quotes."}, {"name": "_format_text", "description": "Formats quotes into plain text, Twitter, or LinkedIn styles."}, {"name": "_format_instagram", "description": "Formats quotes into an Instagram caption style."}, {"name": "_format_srt", "description": "Creates SRT subtitle blocks from quotes."}, {"name": "_format_vtt", "description": "Creates WebVTT subtitle files from quotes."}, {"name": "_format_extension", "description": "Returns file extension based on export format."}], "calls": ["QUOTES.get", "generate_id", "EXPORT_JOBS.__setitem__", "EXPORT_JOBS.get", "datetime.utcnow", "json.dumps"], "search-terms": ["exports API", "quote export formats", "in-memory export storage", "create export job", "retrieve export output", "formatting functions for quotes"], "state": 2, "file_id": 18, "knowledge_revision": 69, "git_revision": "fa3fad7ce15134db05e6f0dd76e049f0d13e33fd", "ctags": [], "filename": "backend/src/api/routers/exports.py", "hash": "a567fbb53b562b2dd37997ca37cee70e", "format-version": 4, "code-base-name": "https://github.com/kavia-common/quoteextractor-platform-29-39.git:kavia-main", "revision_history": [{"69": "fa3fad7ce15134db05e6f0dd76e049f0d13e33fd"}]}