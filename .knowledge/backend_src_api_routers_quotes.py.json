{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints related to quote management, including creating, listing, retrieving, updating, and deleting quotes. It uses FastAPI for routing and Pydantic for data validation.", "external_files": ["src.api.models", "src.api.store"], "external_methods": ["src.api.store.generate_id"], "published": ["create_quote", "list_quotes", "get_quote", "update_quote", "delete_quote"], "classes": [{"name": "QuoteCreateRequest", "description": "Data model for creating a new quote, includes fields like transcript_id, text, start, end, confidence, and tags."}, {"name": "QuoteResponse", "description": "Response model wrapping the Quote object to be returned by API endpoints."}, {"name": "QuoteUpdateRequest", "description": "Data model for updating a quote, includes optional fields like text, start, end, confidence, approved, and tags."}], "methods": [{"name": "QuoteResponse create_quote(payload: QuoteCreateRequest)", "description": "API endpoint to create a new quote, validating Transcript ID and generating a new quote ID.", "scope": "", "scopeKind": ""}, {"name": "list_quotes()", "description": "API endpoint to list all existing quotes.", "scope": "", "scopeKind": ""}, {"name": "Quote get_quote(quote_id: str)", "description": "Retrieve a quote by its ID, raises 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "Quote update_quote(quote_id: str, payload: QuoteUpdateRequest)", "description": "Update fields of an existing quote identified by ID.", "scope": "", "scopeKind": ""}, {"name": "delete_quote(quote_id: str)", "description": "Delete a quote by its ID.", "scope": "", "scopeKind": ""}], "calls": ["src.api.store.generate_id", "src.api.store.QUOTES.get", "src.api.store.QUOTES.__setitem__", "src.api.store.QUOTES.__delitem__"], "search-terms": ["quotes api", "create quote endpoint", "quote routing", "quote management", "QuoteCreateRequest", "QuoteResponse", "QuoteUpdateRequest"], "state": 2, "file_id": 9, "knowledge_revision": 20, "git_revision": "", "ctags": [{"_type": "tag", "name": "QuoteCreateRequest", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^class QuoteCreateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QuoteResponse", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^class QuoteResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QuoteUpdateRequest", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^class QuoteUpdateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "approved", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    approved: Optional[bool] = Field(None, description=\"Approval status.\")$/", "language": "Python", "typeref": "typename:Optional[bool]", "kind": "variable", "scope": "QuoteUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "confidence", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    confidence: Optional[float] = Field(None, description=\"AI confidence 0..1.\")$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "QuoteCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "confidence", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    confidence: Optional[float] = Field(None, description=\"AI confidence.\")$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "QuoteUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "create_quote", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^def create_quote(payload: QuoteCreateRequest) -> QuoteResponse:$/", "language": "Python", "typeref": "typename:QuoteResponse", "kind": "function", "signature": "(payload: QuoteCreateRequest)"}, {"_type": "tag", "name": "delete_quote", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^def delete_quote(quote_id: str):$/", "language": "Python", "kind": "function", "signature": "(quote_id: str)"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    end: Optional[float] = Field(None, description=\"End time in seconds.\")$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "QuoteCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    end: Optional[float] = Field(None, description=\"End time seconds.\")$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "QuoteUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "get_quote", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^def get_quote(quote_id: str) -> Quote:$/", "language": "Python", "typeref": "typename:Quote", "kind": "function", "signature": "(quote_id: str)"}, {"_type": "tag", "name": "list_quotes", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^def list_quotes():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^router = APIRouter(tags=[\"quotes\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    start: Optional[float] = Field(None, description=\"Start time in seconds.\")$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "QuoteCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    start: Optional[float] = Field(None, description=\"Start time seconds.\")$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "QuoteUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    tags: Optional[list[str]] = Field(None, description=\"Tags.\")$/", "language": "Python", "typeref": "typename:Optional[list[str]]", "kind": "variable", "scope": "QuoteUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    tags: list[str] = Field(default_factory=list, description=\"Tags.\")$/", "language": "Python", "typeref": "typename:list[str]", "kind": "variable", "scope": "QuoteCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    text: Optional[str] = Field(None, description=\"Updated quote text.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "QuoteUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    text: str = Field(..., description=\"Quote text.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "QuoteCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "transcript_id", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^    transcript_id: str = Field(..., description=\"Associated transcript ID.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "QuoteCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "update_quote", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/quotes.py", "pattern": "/^def update_quote(quote_id: str, payload: QuoteUpdateRequest) -> Quote:$/", "language": "Python", "typeref": "typename:Quote", "kind": "function", "signature": "(quote_id: str, payload: QuoteUpdateRequest)"}], "hash": "c8af7c740978405a486fd0e65b45e84c", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routers/quotes.py", "fields": [{"name": "Optional[bool] approved", "scope": "QuoteUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] confidence", "scope": "QuoteCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] end", "scope": "QuoteCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(tags=[\"quotes\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[float] start", "scope": "QuoteCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[list[str]] tags", "scope": "QuoteUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "list[str] tags", "scope": "QuoteCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] text", "scope": "QuoteUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str text", "scope": "QuoteCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str transcript_id", "scope": "QuoteCreateRequest", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"20": ""}]}