{"is_source_file": true, "format": "Python", "description": "Source code for the 'transcripts' API router in a FastAPI project, defining endpoints for creating, listing, retrieving, updating, and appending segments to transcripts.", "external_files": ["src.api.models", "src.api.store"], "external_methods": ["src.api.store.generate_id"], "published": [], "classes": [{"name": "TranscriptCreateRequest", "description": "Request model for creating a transcript, includes asset ID, language, and text."}, {"name": "TranscriptResponse", "description": "Response model wrapping a Transcript object."}, {"name": "TranscriptUpdateRequest", "description": "Request model for updating a transcript, includes optional language, text, and status."}, {"name": "SegmentAppendRequest", "description": "Request model for appending a segment to a transcript, includes start/end times, text, and optional speaker."}], "methods": [{"name": "TranscriptResponse create_transcript(payload: TranscriptCreateRequest)", "description": "Creates a new transcript for an asset and stores it in memory.", "scope": "", "scopeKind": ""}, {"name": "list_transcripts()", "description": "Lists all transcripts stored in memory.", "scope": "", "scopeKind": ""}, {"name": "Transcript get_transcript(transcript_id: str)", "description": "Retrieves a specific transcript by ID.", "scope": "", "scopeKind": ""}, {"name": "Transcript update_transcript(transcript_id: str, payload: TranscriptUpdateRequest)", "description": "Updates fields of an existing transcript.", "scope": "", "scopeKind": ""}, {"name": "Transcript append_segment(transcript_id: str, payload: SegmentAppendRequest)", "description": "Appends a new segment to an existing transcript.", "scope": "", "scopeKind": ""}], "calls": ["generate_id", "TRANSCRIPTS.get", "TRANSCRIPTS.__setitem__", "list(TRANSCRIPTS.values())"], "search-terms": ["APIRouter", "transcript", "create_transcript", "list_transcripts", "update_transcript", "append_segment"], "state": 2, "file_id": 8, "knowledge_revision": 18, "git_revision": "", "ctags": [{"_type": "tag", "name": "SegmentAppendRequest", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^class SegmentAppendRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TranscriptCreateRequest", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^class TranscriptCreateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TranscriptResponse", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^class TranscriptResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TranscriptUpdateRequest", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^class TranscriptUpdateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "append_segment", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^def append_segment(transcript_id: str, payload: SegmentAppendRequest) -> Transcript:$/", "language": "Python", "typeref": "typename:Transcript", "kind": "function", "signature": "(transcript_id: str, payload: SegmentAppendRequest)"}, {"_type": "tag", "name": "asset_id", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    asset_id: str = Field(..., description=\"ID of the asset to transcribe.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "TranscriptCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "create_transcript", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^def create_transcript(payload: TranscriptCreateRequest) -> TranscriptResponse:$/", "language": "Python", "typeref": "typename:TranscriptResponse", "kind": "function", "signature": "(payload: TranscriptCreateRequest)"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    end: float = Field(..., description=\"End time in seconds.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "SegmentAppendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "get_transcript", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^def get_transcript(transcript_id: str) -> Transcript:$/", "language": "Python", "typeref": "typename:Transcript", "kind": "function", "signature": "(transcript_id: str)"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    language: Optional[str] = Field(None, description=\"Language code (BCP-47).\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TranscriptCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    language: Optional[str] = Field(None, description=\"Language code (BCP-47).\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TranscriptUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "list_transcripts", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^def list_transcripts():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^router = APIRouter(tags=[\"transcripts\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "speaker", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    speaker: Optional[str] = Field(None, description=\"Speaker label.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "SegmentAppendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    start: float = Field(..., description=\"Start time in seconds.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "SegmentAppendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    status: Optional[JobStatus] = Field(None, description=\"Processing status.\")$/", "language": "Python", "typeref": "typename:Optional[JobStatus]", "kind": "variable", "scope": "TranscriptUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    text: Optional[str] = Field(None, description=\"Full transcript text (manual or precomputed)./", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TranscriptCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    text: Optional[str] = Field(None, description=\"Full transcript text.\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TranscriptUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^    text: str = Field(..., description=\"Segment text.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "SegmentAppendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "update_transcript", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/transcripts.py", "pattern": "/^def update_transcript(transcript_id: str, payload: TranscriptUpdateRequest) -> Transcript:$/", "language": "Python", "typeref": "typename:Transcript", "kind": "function", "signature": "(transcript_id: str, payload: TranscriptUpdateRequest)"}], "hash": "0a11ae82c279de721a7ecf155456a5fc", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routers/transcripts.py", "fields": [{"name": "str asset_id", "scope": "TranscriptCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float end", "scope": "SegmentAppendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] language", "scope": "TranscriptCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(tags=[\"transcripts\"])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[str] speaker", "scope": "SegmentAppendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float start", "scope": "SegmentAppendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[JobStatus] status", "scope": "TranscriptUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] text", "scope": "TranscriptCreateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str text", "scope": "SegmentAppendRequest", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"18": ""}]}