{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing transcripts in a FastAPI application, including creating, listing, retrieving, updating, versioning, auditing, and appending segments to transcripts. It uses in-memory data structures and models from the src.api package.", "external_files": ["src.api.models", "src.api.store"], "external_methods": ["generate_id", "JobStatus", "Transcript", "TranscriptSegment"], "published": ["create_transcript", "list_transcripts", "get_transcript", "put_transcript", "get_versions", "get_audit", "append_segment"], "classes": [{"name": "TranscriptCreateRequest", "description": "Request model for creating a new transcript, including asset ID, optional language, and optional text."}, {"name": "TranscriptResponse", "description": "Response model wrapping a Transcript object."}, {"name": "TranscriptUpdateRequest", "description": "Request model for updating a transcript, including optional language, text, and status."}, {"name": "SegmentAppendRequest", "description": "Request model for appending a segment to a transcript, including start/end times, text, and optional speaker."}], "methods": [{"name": "create_transcript", "description": "Creates a new transcript record for an asset, initializes versioning and audit logs."}, {"name": "list_transcripts", "description": "Returns a list of all stored transcripts."}, {"name": "get_transcript", "description": "Fetches a transcript by its ID."}, {"name": "put_transcript", "description": "Updates a transcript's fields, maintains version history and audit log."}, {"name": "get_versions", "description": "Returns the version history for a specific transcript."}, {"name": "get_audit", "description": "Returns the audit log for a specific transcript."}, {"name": "append_segment", "description": "Appends a new segment to a transcript, updating version and audit logs."}], "calls": ["generate_id", "datetime.utcnow", "transcript.model_copy", "transcript.model_dump", "TRANSCRIPTS.get", "TRANSCRIPTS.__setitem__", "HTTPException", "APIRouter", "JobStatus.completed", "JobStatus.pending"], "search-terms": ["transcript API", "in-memory versioning", "transcript segments", "audit log", "transcript management", "FastAPI transcripts"], "state": 2, "file_id": 17, "knowledge_revision": 67, "git_revision": "04e7a57b8c19369384c9d0fb8658d4fa30e66cb0", "ctags": [], "filename": "backend/src/api/routers/transcripts.py", "hash": "fa2824597b24e798e19dca0fd9a9cf1e", "format-version": 4, "code-base-name": "https://github.com/kavia-common/quoteextractor-platform-29-39.git:kavia-main", "revision_history": [{"67": "04e7a57b8c19369384c9d0fb8658d4fa30e66cb0"}]}