{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for uploading, listing, and retrieving assets in a FastAPI application. It includes routes for registering an uploaded asset, listing all assets, and fetching a specific asset by ID, along with internal logic for inferring asset types based on content type.", "external_files": ["src.api.models", "src.api.store"], "external_methods": ["generate_id", "ASSETS", "Asset", "AssetType"], "published": ["upload_asset", "list_assets", "get_asset"], "classes": [{"name": "AssetCreateResponse", "description": "Pydantic model representing the response when an asset is created."}], "methods": [{"name": "AssetType _infer_asset_type(content_type: str)", "description": "Internal function to determine AssetType based on content type string.", "scope": "", "scopeKind": ""}, {"name": "get_asset(asset_id: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_assets()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AssetCreateResponse upload_asset( file: UploadFile = File(..., description=\"Binary file to upload.\"), owner_id: Optional[str] = Form(None, description=\"Owner user ID (MVP optional).\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["generate_id", "ASSETS.__setitem__", "ASSETS.get", "Asset", "_infer_asset_type", "HTTPException"], "search-terms": ["uploads", "register uploaded file", "list assets in-memory", "fetch asset by ID", "AssetCreateResponse", "upload_asset endpoint", "list_assets endpoint", "get_asset endpoint"], "state": 2, "file_id": 7, "knowledge_revision": 28, "git_revision": "", "revision_history": [{"16": ""}, {"28": ""}], "ctags": [{"_type": "tag", "name": "AssetCreateResponse", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/uploads.py", "pattern": "/^class AssetCreateResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_infer_asset_type", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/uploads.py", "pattern": "/^def _infer_asset_type(content_type: str) -> AssetType:$/", "language": "Python", "typeref": "typename:AssetType", "kind": "function", "signature": "(content_type: str)"}, {"_type": "tag", "name": "get_asset", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/uploads.py", "pattern": "/^def get_asset(asset_id: str):$/", "language": "Python", "kind": "function", "signature": "(asset_id: str)"}, {"_type": "tag", "name": "list_assets", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/uploads.py", "pattern": "/^def list_assets():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/uploads.py", "pattern": "/^router = APIRouter(tags=[\"uploads\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "upload_asset", "path": "/home/kavia/workspace/code-generation/quoteextractor-platform-29-39/backend/src/api/routers/uploads.py", "pattern": "/^async def upload_asset($/", "language": "Python", "typeref": "typename:AssetCreateResponse", "kind": "function", "signature": "( file: UploadFile = File(..., description=\"Binary file to upload.\"), owner_id: Optional[str] = Form(None, description=\"Owner user ID (MVP optional).\"), )"}], "hash": "4b3837dcf3b8b7a503b4004b8f3f9c14", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routers/uploads.py", "fields": [{"name": "router = APIRouter(tags=[\"uploads\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}