{"is_source_file": true, "format": "Python", "description": "This file defines API routes for uploading assets, checking their status, listing assets, and retrieving individual assets within a FastAPI application. It includes data models for responses, functions to handle asset upload, status retrieval, and simulates background transcription jobs.", "external_files": ["src/api/models", "src/api/store"], "external_methods": ["generate_id", "_simulate_transcription_job_with_delay"], "published": ["router", "upload_asset", "get_upload_status", "list_assets", "get_asset"], "classes": [{"name": "AssetCreateResponse", "description": "Response model for asset creation, including asset ID, status, optional note, and asset metadata."}, {"name": "UploadStatusResponse", "description": "Response model for upload status, including asset ID, processing status, transcript ID, timestamp, and message."}], "methods": [{"name": "upload_asset", "description": "Handles uploading a new asset, registers it, and queues a simulated transcription job."}, {"name": "get_upload_status", "description": "Retrieves the processing status of an uploaded asset, including transcript info if available."}, {"name": "list_assets", "description": "Returns a list of all registered assets."}, {"name": "get_asset", "description": "Fetches a specific asset by its ID."}, {"name": "_infer_asset_type", "description": "Infers asset type (audio/video/unknown) based on content type string."}, {"name": "_simulate_transcription_job_with_delay", "description": "Simulates a background transcription job by creating a transcript record after a short delay."}], "calls": ["generate_id", "_simulate_transcription_job_with_delay", "ASSETS.get", "TRANSCRIPTS.values", "next", "datetime.utcnow", "time.sleep"], "search-terms": ["uploads", "transcription", "asset", "status", "background tasks", "mock storage", "API router"], "state": 2, "file_id": 22, "knowledge_revision": 74, "git_revision": "04e7a57b8c19369384c9d0fb8658d4fa30e66cb0", "ctags": [], "filename": "backend/src/api/routers/uploads.py", "hash": "2c5b7363f1823d1615075408649bd666", "format-version": 4, "code-base-name": "https://github.com/kavia-common/quoteextractor-platform-29-39.git:kavia-main", "revision_history": [{"74": "04e7a57b8c19369384c9d0fb8658d4fa30e66cb0"}]}